<!DOCTYPE html>
<html>

<head>
    <title>Infinite Scroll</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        img {
            padding: 5px;
        }
    </style>
</head>

<body id="main">
    
    <script>
        let main = document.querySelector("body");

        var load = function () {
            for (var i = 0; i < 10; i++) {
                let item = document.createElement("div");
                main.appendChild(item);
                let pic = document.createElement("img");
                pic.src = "https://picsum.photos/300";
                main.appendChild(pic);
            }
        }


        window.addEventListener('scroll', function () {
            var sum = this.window.scrollY + this.window.innerHeight;
            console.log(this.window.scrollY + " " + this.window.innerHeight + " " + main.scrollHeight + " " + sum);

            if (this.window.scrollY + this.window.innerHeight >= main.scrollHeight) {
                console.log("here");
                load();
            }
        });
        load();

    </script>
</body>

</html>